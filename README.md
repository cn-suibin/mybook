# mybook by suibin
#服务器架构相关
Apache BookKeeper
http://blog.csdn.net/plunger2011/article/details/37812843


1、用好thinkphp框架自带的
	安全。
  
	1.1用好-动态缓存（第一次查询缓存，有则从缓存取，一般用于一个事务中非实时性数据，设计依赖一个事务的生命周期。（比如排行榜，几小时更新一次，可以缓存，设置队列来控制大小））实时性粒度小，组合强
  
	1.2用好-查询缓存（直接缓存select语句的结果集，无需自己设计缓存逻辑）针对数据库压力。多用在目录、菜单、商品列表等。
  
	1.3开启-SQL解析缓存（全局，数据库ORM提速）
  
	1.4用好-静态缓存（通过配置，对制定控制器生成html静态文件，一般是页面做静态化）多用在有页面的情况下。接口方式主要考虑1.1和1.2
  
	1.5用好-原子性、等幂性。如：商品是有数量，避免卖单高并发情况下数量多减，一种情况是用MYSQL innodb 事务对单条商品设置排它锁。一种是并发量特别高时，我们用redis SETNX分布式锁。
